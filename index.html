<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>è³‡æ–™å¡«å¯«</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 480px;
      margin: auto;
    }
    label {
      display: block;
      margin-top: 12px;
    }
    button {
      margin-top: 20px;
      padding: 12px;
      width: 100%;
    }
  </style>
</head>
<body>

<h2>è³‡æ–™å¡«å¯«</h2>

<label>æ‚¨å±¬æ–¼å“ªä¸€é¡</label>
<select id="category">
  <option value="">è«‹é¸æ“‡</option>
  <option value="å±•å ´å®¢æˆ¶">å±•å ´å®¢æˆ¶</option>
  <option value="èˆŠå®¢æˆ¶">èˆŠå®¢æˆ¶</option>
  <option value="ç¶“éŠ·å•†">ç¶“éŠ·å•†</option>
</select>

<label>å…¬å¸åç¨±</label>
<input type="text" id="company" />

<label>åœ‹åˆ¥</label>
<input type="text" id="country" />

<button onclick="submitForm()">é€å‡º</button>

<script>
  // ğŸ”´ é€™å…©å€‹ä¸€å®šè¦æ›
  const LIFF_ID = "ä½ çš„ LIFF ID";
  const API_URL = "ä½ çš„ Apps Script /exec URL";

  async function submitForm() {
    await liff.init({ liffId: LIFF_ID });

    if (!liff.isLoggedIn()) {
      liff.login();
      return;
    }

    const profile = await liff.getProfile();

    const payload = {
      userId: profile.userId,
      category: document.getElementById("category").value,
      company: document.getElementById("company").value,
      country: document.getElementById("country").value
    };

    await fetch(API_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    alert("è³‡æ–™å·²é€å‡ºï¼Œè¬è¬ï¼");
    liff.closeWindow();
  }
</script>

</body>
</html>
